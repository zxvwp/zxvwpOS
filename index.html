<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ZXVWP CLI Economy Simulator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <pre id="cli" contenteditable="true" autofocus spellcheck="false"></pre>

  <script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>
  <script src="main.js"></script>
  <script>
    const cli = document.getElementById('cli');
    cli.focus();

    cli.addEventListener('keydown', e => {
      if (e.key === 'Enter') {
        e.preventDefault();
        const input = cli.innerText.trim().split('\n').pop();
        dispatch(input.trim().toLowerCase());
        setTimeout(() => cli.scrollIntoView(false), 10);
      }
    });

    function println(text, type = 'log') {
      const line = document.createElement('div');
      line.textContent = text;
      if (type === 'err') line.style.color = 'red';
      cli.appendChild(line);
    }

    println("üåê Welcome to ZXVWP os");
    println("Type `help` for commands.");
  </script>
</body>
</html>
